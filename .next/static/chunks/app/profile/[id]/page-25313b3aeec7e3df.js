(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2870],{63:(s,e,l)=>{"use strict";var r=l(7260);l.o(r,"useParams")&&l.d(e,{useParams:function(){return r.useParams}}),l.o(r,"useRouter")&&l.d(e,{useRouter:function(){return r.useRouter}}),l.o(r,"useSearchParams")&&l.d(e,{useSearchParams:function(){return r.useSearchParams}})},8565:(s,e,l)=>{Promise.resolve().then(l.bind(l,8769))},8769:(s,e,l)=>{"use strict";l.r(e),l.d(e,{default:()=>u});var r=l(5155),a=l(2115),n=l(63),o=l(6489),i=l(5897),d=l(3998),t=l(9919);function u(){var s,e;let l=(0,n.useParams)().id,{data:u}=(0,o.useSession)(),[c,h]=(0,a.useState)(null),[f,m]=(0,a.useState)(!1);(0,a.useEffect)(()=>{l&&fetch("/api/users/".concat(l)).then(s=>s.json()).then(s=>{h(s)})},[l]),(0,a.useEffect)(()=>{var s;(null==u||null==(s=u.user)?void 0:s.id)&&c&&m(c.followers.some(s=>{var e;return s.id===(null==(e=u.user)?void 0:e.id)}))},[u,c]);let p=async()=>{u&&c&&(await fetch("/api/users/".concat(f?"unfollow":"follow"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userIdToFollow:c.id,userIdToUnfollow:c.id})}),m(!f))};return c?(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-8",children:[(0,r.jsxs)(i.eu,{className:"h-32 w-32",children:[(0,r.jsx)(i.BK,{src:c.profileImage||""}),(0,r.jsx)(i.q5,{children:null==(s=c.name)?void 0:s.charAt(0)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:c.name}),(0,r.jsxs)("div",{className:"flex gap-4 text-muted-foreground",children:[(0,r.jsxs)("span",{children:[c.posts.length," Posts"]}),(0,r.jsxs)("span",{children:[c.followers.length," Followers"]}),(0,r.jsxs)("span",{children:[c.following.length," Following"]})]}),(null==u||null==(e=u.user)?void 0:e.id)!==c.id&&(0,r.jsx)(d.$,{onClick:p,children:f?"Unfollow":"Follow"})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.posts.map(s=>(0,r.jsx)(t.Z,{blog:s,view:"grid"},s.id))})]}):(0,r.jsx)("div",{children:"Loading..."})}}},s=>{s.O(0,[4909,2619,2126,3171,6489,3579,9919,8441,1255,7358],()=>s(s.s=8565)),_N_E=s.O()}]);