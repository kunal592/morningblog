(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2870],{63:(e,s,l)=>{"use strict";var a=l(7260);l.o(a,"useParams")&&l.d(s,{useParams:function(){return a.useParams}}),l.o(a,"usePathname")&&l.d(s,{usePathname:function(){return a.usePathname}}),l.o(a,"useRouter")&&l.d(s,{useRouter:function(){return a.useRouter}}),l.o(a,"useSearchParams")&&l.d(s,{useSearchParams:function(){return a.useSearchParams}})},8565:(e,s,l)=>{Promise.resolve().then(l.bind(l,8769))},8769:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>d});var a=l(5155),n=l(2115),r=l(63),o=l(6489),i=l(5897),t=l(3998),u=l(9919);function d(){var e,s;let l=(0,r.useParams)().id,{data:d}=(0,o.useSession)(),[c,h]=(0,n.useState)(null),[f,m]=(0,n.useState)(!1);(0,n.useEffect)(()=>{l&&fetch("/api/users/".concat(l)).then(e=>e.json()).then(e=>{h(e)})},[l]),(0,n.useEffect)(()=>{var e;(null==d||null==(e=d.user)?void 0:e.id)&&c&&m(c.followers.some(e=>{var s;return e.id===(null==(s=d.user)?void 0:s.id)}))},[d,c]);let p=async()=>{d&&c&&(await fetch("/api/users/".concat(f?"unfollow":"follow"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userIdToFollow:c.id,userIdToUnfollow:c.id})}),m(!f))};return c?(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-8",children:[(0,a.jsxs)(i.eu,{className:"h-32 w-32",children:[(0,a.jsx)(i.BK,{src:c.profileImage||""}),(0,a.jsx)(i.q5,{children:null==(e=c.name)?void 0:e.charAt(0)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:c.name}),(0,a.jsxs)("div",{className:"flex gap-4 text-muted-foreground",children:[(0,a.jsxs)("span",{children:[c.posts.length," Posts"]}),(0,a.jsxs)("span",{children:[c.followers.length," Followers"]}),(0,a.jsxs)("span",{children:[c.following.length," Following"]})]}),(null==d||null==(s=d.user)?void 0:s.id)!==c.id&&(0,a.jsx)(t.$,{onClick:p,children:f?"Unfollow":"Follow"})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.posts.map(e=>(0,a.jsx)(u.Z,{blog:e,view:"grid"},e.id))})]}):(0,a.jsx)("div",{children:"Loading..."})}}},e=>{e.O(0,[9130,2619,2869,3171,2047,449,2881,9919,8441,1255,7358],()=>e(e.s=8565)),_N_E=e.O()}]);